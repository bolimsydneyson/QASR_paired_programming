---
title: "Paired Programming Pilot"
author: "Sydney Bolim Son"
date: "4/2/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## **Question**

Given the following datasets, containing both price and calorie information for McDonald's food items:

McDonald's menu item prices
https://raw.githubusercontent.com/erood/interviewqs.com_code_snippets/master/Datasets/mcD_food_prices.csv

McDonald's menu item calories
https://raw.githubusercontent.com/erood/interviewqs.com_code_snippets/master/Datasets/mcD_food_calories.csv

Write code to merge the two datasets, calculate the price per calorie of food, and stack rank the foods from the 'best value' (most calories per dollar) to 'worst value' (least calories per dollar).

* Note: There are of course nuances in nutritional benefits, protein, etc, but we're simplifying here for the purposes of these definitions and assuming someone wants to optimize purely for cost of calories.


```{r}
library(dplyr)
library(readr)
```

```{r}
getwd()
```



```{r}
download.file('https://raw.githubusercontent.com/erood/interviewqs.com_code_snippets/master/Datasets/mcD_food_calories.csv', destfile = 'QASR/pilot/mcD_food_calories.csv')

download.file('https://raw.githubusercontent.com/erood/interviewqs.com_code_snippets/master/Datasets/mcD_food_prices.csv', destfile = 'QASR/pilot/mcD_food_prices.csv')
```

```{r}
# Read in the datasets, check it
calories_df <- readr::read_csv("QASR/pilot/mcD_food_calories.csv")
head(calories_df)
```

```{r}
# Check for duplicates
nrow(calories_df) == length(unique(calories_df$Food))
```

```{r}
# Remove duplicates
calories_df <- calories_df %>% distinct(Food, .keep_all = TRUE)

head(calories_df)
```

```{r}
# Check for duplicates
nrow(calories_df) == length(unique(calories_df$Food))
```

```{r}
# Read in the datasets, check it
prices_df <- readr::read_csv("QASR/pilot/mcD_food_prices.csv")
head(prices_df)
```

```{r}
# Check for duplicates
nrow(prices_df) == length(unique(prices_df$Food))
```

```{r}
# Remove duplicates
prices_df <- prices_df %>% distinct(Food, .keep_all = TRUE)
```

```{r}
# Check for duplicates
nrow(prices_df) == length(unique(prices_df$Food))
```


```{r}
# Join the two tables
joined <- left_join(calories_df, prices_df, by = "Food")

head(joined)
```

```{r}
joined <- joined %>%
  mutate(cal_per_dollar = round(Calories/Price_USD, digits = 3)) %>%
  arrange(desc(cal_per_dollar))

head(joined)
```

```{r}
# Export
write_csv(joined, "QASR/pilot/result.csv")
```


